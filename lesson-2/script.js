document.addEventListener('DOMContentLoaded', () => {
    const gameContainer = document.getElementById('game-container');
    const movesCountSpan = document.getElementById('moves-count');
    const resetButton = document.getElementById('reset-btn');
    const hintButton = document.getElementById('hint-btn');
    const nextLessonButton = document.getElementById('next-lesson-btn');
    const prevLessonButton = document.getElementById('prev-lesson-btn');
    const congratsMessage = document.getElementById('congrats-message');
    const gameStatus = document.getElementById('game-status');

    // --- Audio Files (Base64 Encoded) ---
    const swapSound = new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjQ1LjEwMAAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAAABoR2RFSW5mbwAAAA8AAAAIAAADeGF2Y0efg5//+xDEAAAAAAPof4gsEAAAAAAB1AQR2AAAAAAB3d3cueG1wLm9yZwAAAAAAeG1wOkNyZWF0b3JUb29sAAAAAABMYXZjNTguNDUuMTAwAP/7EMQCAAACAAACA3gAc291bmRmb3JnZS5uZXQAAAAAAAAAP/7EMQCAAACAAACA3gAc291bmRmb3JnZS5uZXQAAAAAAAAA//sQxAgAAAIAAAIDeABzb3VuZGZvcmdlLm5ldAAAAAAAAAD/9BDEHQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9BDEIQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/+xDEIAAACAAABA3gAAAAAAAAAAAAAAP/7EMQYAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBsAAAEAAAEAAAAAAAAAAAAAAAAD/9BDEHQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9BDEIQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9-BDEJAAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9BDEJwAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAACAAAAP/sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQ-QxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//-xDEIgAAAgAAAQN4AANwAAAAAAAAAAAAA//sQxBsAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBgAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBQAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBQAIAAAAAEAAAD/9BDEAgAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/AAaniaAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIA");
    const errorSound = new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjQ1LjEwMAAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAAABoR2RFSW5mbwAAAA8AAAAIAAADeGF2Y0efg5//+xDEAAAAAAPof4gsEAAAAAAB1AQR2AAAAAAB3d3cueG1wLm9yZwAAAAAAeG1wOkNyZWF0b3JUb29sAAAAAABMYXZjNTguNDUuMTAwAP/7EMQCAAACAAACA3gAc291bmRmb3JnZS5uZXQAAAAAAAAAP/7EMQCAAACAAACA3gAc291bmRmb3JnZS5uZXQAAAAAAAAA//sQxAgAAAIAAAIDeABzb3VuZGZvcmdlLm5ldAAAAAAAAAD/9BDEHQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9BDEIQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/+xDEIAAACAAABA3gAAAAAAAAAAAAAAP/7EMQYAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBsAAAEAAAEAAAAAAAAAAAAAAAAD/9BDEHQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9BDEIQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9-BDEJAAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9BDEJwAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAACAAAAP/sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQ-QxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//-xDEIgAAAgAAAQN4AANwAAAAAAAAAAAAA//sQxBsAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBgAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBQAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBQAIAAAAAEAAAD/9BDEAgAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/AAaniaAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIA");
    const winSound = new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjQ1LjEwMAAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAAABoR2RFSW5mbwAAAA8AAAAIAAADeGF2Y0efg5//+xDEAAAAAAPof4gsEAAAAAAB1AQR2AAAAAAB3d3cueG1wLm9yZwAAAAAAeG1wOkNyZWF0b3JUb29sAAAAAABMYXZjNTguNDUuMTAwAP/7EMQCAAACAAACA3gAc291bmRmb3JnZS5uZXQAAAAAAAAAP/7EMQCAAACAAACA3gAc291bmRmb3JnZS5uZXQAAAAAAAAA//sQxAgAAAIAAAIDeABzb3VuZGZvcmdlLm5ldAAAAAAAAAD/9BDEHQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9BDEIQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/+xDEIAAACAAABA3gAAAAAAAAAAAAAAP/7EMQYAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBsAAAEAAAEAAAAAAAAAAAAAAAAD/9BDEHQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/BDEIQAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9-BDEJAAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/9BDEJwAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAACAAAAP/sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQ-QxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//sQxCoAAAMAADSAAAA//-xDEIgAAAgAAAQN4AANwAAAAAAAAAAAAA//sQxBsAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBgAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBQAAAEAAAEAAAAAAAAAAAAAAAAAAAAA//sQxBQAIAAAAAEAAAD/9BDEAgAIAAAAEAAADSAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAAD/AAaniaAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIAAAANIA");

    let bars = [];
    let moves = 0;
    let currentIndex = 0;
    let isGameWon = false;
    const BAR_COUNT = 7;

    function playSound(sound) {
        const playPromise = sound.play();
        if (playPromise !== undefined) {
            playPromise.catch(error => {
                console.info("Audio playback failed:", error);
            });
        }
    }

    function createBars() {
        isGameWon = false;
        currentIndex = 0;
        moves = 0;
        congratsMessage.classList.remove('visible');
        updateMoves(0);
        gameContainer.innerHTML = '';
        bars = [];

        const values = Array.from({ length: BAR_COUNT }, (_, i) => i + 1);
        for (let i = values.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [values[i], values[j]] = [values[j], values[i]];
        }

        values.forEach((value) => {
            const bar = document.createElement('div');
            bar.style.height = `${value * 30}px`;
            bar.dataset.value = value;
            bar.classList.add('bar');
            bar.addEventListener('click', onBarClick);
            gameContainer.appendChild(bar);
            bars.push(bar);
        });
        updateGameStatus();
    }

    function onBarClick(event) {
        if (isGameWon) return;
        const clickedBar = event.target;
        removeHint();

        const barOriginalIndex = bars.indexOf(clickedBar);
        if (barOriginalIndex < currentIndex) return;

        let minVal = Infinity;
        for (let i = currentIndex; i < bars.length; i++) {
            const val = parseInt(bars[i].dataset.value);
            if (val < minVal) {
                minVal = val;
            }
        }

        if (parseInt(clickedBar.dataset.value) === minVal) {
            handleCorrectSelection(clickedBar);
        } else {
            handleIncorrectSelection(clickedBar);
        }
    }
    
    function handleCorrectSelection(minBar) {
        playSound(swapSound);
        updateMoves(moves + 1);
        const barToSwapWith = bars[currentIndex];
        const minBarIndex = bars.indexOf(minBar);

        [bars[currentIndex], bars[minBarIndex]] = [bars[minBarIndex], bars[currentIndex]];
        bars.forEach(bar => gameContainer.appendChild(bar));
        barToSwapWith.classList.add('sorted');
        currentIndex++;

        if (currentIndex === BAR_COUNT) {
            isGameWon = true;
            playSound(winSound);
            bars.forEach((bar, index) => {
                setTimeout(() => bar.classList.add('dance'), index * 100);
            });
            setTimeout(() => congratsMessage.classList.add('visible'), 800);
        }
        updateGameStatus();
    }

    function handleIncorrectSelection(clickedBar) {
        playSound(errorSound);
        clickedBar.classList.add('incorrect');
        setTimeout(() => {
            clickedBar.classList.remove('incorrect');
            if (bars.indexOf(clickedBar) >= currentIndex) {
                clickedBar.style.backgroundColor = 'var(--light-cyan)';
            }
        }, 500);
    }

    function updateMoves(count) {
        moves = count;
        movesCountSpan.textContent = moves;
    }
    
    function updateGameStatus() {
        if (isGameWon) {
            gameStatus.textContent = 'Congratulations! You sorted the list!';
        } else {
            gameStatus.textContent = `Pass ${currentIndex + 1}: Find the smallest bar in the unsorted section.`;
        }
    }

    function getHint() {
        if (isGameWon) return;
        removeHint();
        let minBar = null;
        let minVal = Infinity;
        for (let i = currentIndex; i < bars.length; i++) {
            const val = parseInt(bars[i].dataset.value);
            if (val < minVal) {
                minVal = val;
                minBar = bars[i];
            }
        }
        if (minBar) {
            minBar.classList.add('hint');
        }
    }

    function removeHint() {
        bars.forEach(b => b.classList.remove('hint'));
    }

    resetButton.addEventListener('click', createBars);
    hintButton.addEventListener('click', getHint);
    nextLessonButton.addEventListener('click', () => {
        window.location.href = '../lesson-3/index.html';
    });
    prevLessonButton.addEventListener('click', () => {
        window.location.href = '../lesson-1/index.html';
    });
    document.getElementById('copyright-year').textContent = new Date().getFullYear();
    createBars();
});

