<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The DSA Games - Stacks & Queues</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .game-title, #win-message {
            font-family: 'Press Start 2P', cursive;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            80% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes tada {
            from { transform: scale3d(1, 1, 1); }
            10%, 20% { transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg); }
            30%, 50%, 70%, 90% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg); }
            40%, 60%, 80% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg); }
            to { transform: scale3d(1, 1, 1); }
        }
        .animate-fade-in { animation: fadeIn 0.8s ease-out forwards; }
        .animate-pop-in { animation: popIn 0.5s ease-out forwards; }
        .animate-tada { animation: tada 1s ease-out; animation-delay: 0.5s; }
        .code-snippet {
            background-color: #f3f4f6;
            border-left: 3px solid #60a5fa;
            color: #374151;
            font-family: 'Courier New', Courier, monospace;
        }
        .tab-btn { transition: all 0.2s ease-in-out; }
        .tab-btn.active {
            border-bottom-color: #3b82f6;
            color: #3b82f6;
            transform: translateY(-2px);
        }
        .item-box {
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform-origin: bottom center;
        }
        .stack-container, .queue-container {
            border: 3px dashed #9ca3af;
            min-height: 280px;
        }
        .hint-item {
            animation: pulse-yellow 1.5s infinite;
            box-shadow: 0 0 20px #facc15;
        }
        @keyframes pulse-yellow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(250, 204, 21, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(250, 204, 21, 0); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col bg-gray-50 text-gray-900">

    <header class="w-full py-4 bg-white shadow-md sticky top-0 z-10 animate-fade-in">
        <div class="container mx-auto px-4 flex justify-between items-center">
             <a href="index.html" class="text-gray-700 hover:text-blue-500 transition-colors">
                <span class="material-icons-outlined text-3xl">home</span>
            </a>
            <h1 class="text-2xl md:text-3xl game-title text-blue-500 text-center">The DSA Games</h1>
            <a href="https://github.com" target="_blank" class="text-gray-700 hover:text-blue-500 transition-colors">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" /></svg>
            </a>
        </div>
    </header>

    <main class="flex-grow container mx-auto p-4 md:p-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 h-full">
            
            <div class="bg-white p-6 rounded-lg shadow-xl animate-fade-in" style="animation-delay: 0.2s;">
                <h2 class="text-2xl font-bold mb-4 text-blue-600 flex items-center gap-2">Stacks & Queues: Orderly Operations <span class="animate-tada inline-block">üì¶</span></h2>
                <div class="space-y-4 text-gray-600">
                    <p>Stacks and Queues are linear data structures that manage collections of items. The key difference is the order in which items are added and removed.</p>
                    
                    <h3 class="text-xl font-semibold pt-4 text-blue-600 flex items-center gap-2">Core Principles <span class="animate-tada inline-block">üß†</span></h3>
                    <ul class="list-disc list-inside space-y-2 pl-2">
                        <li><strong>Stack (LIFO):</strong> Stands for "Last-In, First-Out". The last item you add (push) is the first one you remove (pop). Think of a stack of plates.</li>
                        <li><strong>Queue (FIFO):</strong> Stands for "First-In, First-Out". The first item you add (enqueue) is the first one you remove (dequeue). Think of a line at a ticket counter.</li>
                    </ul>

                    <h3 class="text-xl font-semibold pt-4 text-blue-600">Syntax Examples</h3>
                    <div>
                         <div class="border-b border-gray-200">
                            <nav class="-mb-px flex gap-6" aria-label="Tabs">
                                <button class="tab-btn active shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="js">JavaScript</button>
                                <button class="tab-btn shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="python">Python</button>
                                <button class="tab-btn shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="java">Java</button>
                                <button class="tab-btn shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="cpp">C++</button>
                                <button class="tab-btn shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="c">C</button>
                            </nav>
                        </div>
                        <div class="mt-4">
                            <pre id="code-js" class="code-snippet p-4 rounded-md overflow-x-auto"><code>// Stack (using Array)
let stack = [];
stack.push(10); // [10]
stack.push(20); // [10, 20]
stack.pop();    // returns 20, stack is [10]

// Queue (using Array)
let queue = [];
queue.push(10);    // [10]
queue.push(20);    // [10, 20]
queue.shift(); // returns 10, queue is [20]</code></pre>
                            <pre id="code-python" class="code-snippet p-4 rounded-md overflow-x-auto hidden"><code># Stack (using list)
stack = []
stack.append(10)
stack.append(20)
stack.pop() # returns 20

# Queue (using collections.deque)
from collections import deque
queue = deque()
queue.append(10)
queue.append(20)
queue.popleft() # returns 10</code></pre>
                            <pre id="code-java" class="code-snippet p-4 rounded-md overflow-x-auto hidden"><code>// Stack
Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();
stack.push(10);
stack.push(20);
stack.pop(); // returns 20

// Queue (using LinkedList)
Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();
queue.add(10);
queue.add(20);
queue.remove(); // returns 10</code></pre>
                            <pre id="code-cpp" class="code-snippet p-4 rounded-md overflow-x-auto hidden"><code>#include &lt;stack&gt;
#include &lt;queue&gt;
// Stack
std::stack&lt;int&gt; s;
s.push(10);
s.push(20);
s.pop();

// Queue
std::queue&lt;int&gt; q;
q.push(10);
q.push(20);
q.pop();</code></pre>
                            <pre id="code-c" class="code-snippet p-4 rounded-md overflow-x-auto hidden"><code>/* Stacks and Queues in C are typically
   implemented manually using arrays
   or linked lists. There are no built-in
   standard library containers for them. */

// Example: Stack push with an array
int stack[100];
int top = -1;
void push(int val) {
  stack[++top] = val;
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-xl flex flex-col animate-fade-in" style="animation-delay: 0.4s;">
                 <h2 class="text-2xl font-bold mb-2 text-center text-blue-600 flex items-center justify-center gap-2">Game: The Dispatch Center <span class="animate-tada inline-block">üè≠</span></h2>
                <p class="text-center text-gray-500 mb-4">Click "Process Item" to remove the correct package based on the current mode (LIFO/FIFO).</p>
                
                <div id="game-board-container" class="flex-grow bg-gray-50 rounded-lg p-4 relative">
                    <div class="flex justify-between items-center mb-2">
                        <div id="incoming-items" class="flex gap-2"></div>
                        <button id="add-item-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold p-2 rounded-full transition-transform transform hover:scale-105 active:scale-95 flex items-center justify-center shadow-md">
                            <span class="material-icons-outlined">add</span>
                        </button>
                    </div>
                    
                    <div id="processing-area" class="relative rounded-lg p-4 h-80">
                         <div id="structure-container" class="stack-container w-full h-full rounded-lg flex flex-col-reverse items-center p-2 gap-2">
                            <!-- Items will be dynamically added here -->
                        </div>
                    </div>
                    
                    <div id="win-message" class="absolute inset-0 bg-green-500/80 rounded-lg flex items-center justify-center text-white text-center p-4 text-2xl font-bold opacity-0 transition-opacity duration-500 pointer-events-none">
                        All items dispatched! Great job! üéâ
                    </div>
                </div>
                
                 <div id="status-message" class="text-center h-8 my-4 font-semibold text-lg text-gray-700 transition-all duration-300"></div>

                <div class="grid grid-cols-2 gap-4 mt-auto">
                    <button id="mode-toggle-btn" class="justify-center bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2">
                        <span class="material-icons-outlined">sync_alt</span> <span id="mode-text">Stack Mode</span>
                    </button>
                    <button id="process-item-btn" class="justify-center bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2">
                        <span class="material-icons-outlined">outbox</span> Process Item
                    </button>
                    <button id="hint-btn" class="justify-center bg-transparent border-2 border-yellow-500 text-yellow-600 hover:bg-yellow-500 hover:text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2"><span class="material-icons-outlined">lightbulb</span> Hint</button>
                    <button id="reset-btn" class="justify-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2"><span class="material-icons-outlined">restart_alt</span> Reset</button>
                </div>
            </div>

        </div>

        <div class="flex justify-between items-center mt-12">
            <a href="linked_list_game.html" class="w-40 justify-center bg-transparent border-2 border-gray-500 text-gray-600 hover:bg-gray-500 hover:text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2">
                <span class="material-icons-outlined">arrow_back</span> Previous
            </a>
            <a href="#" class="w-40 justify-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2 border-2 border-blue-500 hover:border-blue-600">
                Next <span class="material-icons-outlined">arrow_forward</span>
            </a>
        </div>
    </main>

    <footer class="w-full py-4 bg-white mt-8 border-t border-gray-200">
        <div class="container mx-auto text-center text-gray-500 text-sm">
            <p>&copy; 2025 The DSA Game by Pritish Rajpurohit. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- TABS LOGIC ---
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    document.querySelectorAll('.code-snippet').forEach(snip => {
                       snip.classList.add('hidden');
                    });
                    document.getElementById(`code-${tab.dataset.lang}`).classList.remove('hidden');
                });
            });

            // --- GAME LOGIC ---
            const addItemBtn = document.getElementById('add-item-btn');
            const processItemBtn = document.getElementById('process-item-btn');
            const modeToggleBtn = document.getElementById('mode-toggle-btn');
            const modeText = document.getElementById('mode-text');
            const hintBtn = document.getElementById('hint-btn');
            const resetBtn = document.getElementById('reset-btn');

            const incomingItemsContainer = document.getElementById('incoming-items');
            const structureContainer = document.getElementById('structure-container');
            const statusMessage = document.getElementById('status-message');
            const winMessage = document.getElementById('win-message');

            let mode = 'stack';
            let incomingItems = [];
            let structure = [];
            let nextItemId = 0;
            const colors = ['#ef4444', '#f97316', '#eab308', '#84cc16', '#22c55e', '#14b8a6', '#06b6d4', '#3b82f6', '#8b5cf6', '#d946ef'];

            function initGame() {
                nextItemId = 0;
                incomingItems = Array.from({length: 5}, () => createItem());
                structure = [];
                winMessage.style.opacity = '0';
                statusMessage.textContent = 'Add items to the structure!';
                updateModeUI();
                render();
            }

            function createItem() {
                const item = {
                    id: nextItemId,
                    color: colors[nextItemId % colors.length]
                };
                nextItemId++;
                return item;
            }

            function render() {
                renderIncoming();
                renderStructure();
            }

            function renderIncoming() {
                incomingItemsContainer.innerHTML = '';
                incomingItems.forEach(item => {
                    const el = document.createElement('div');
                    el.className = 'w-8 h-8 rounded animate-pop-in';
                    el.style.backgroundColor = item.color;
                    incomingItemsContainer.appendChild(el);
                });
            }

            function renderStructure() {
                structureContainer.innerHTML = '';
                structure.forEach(item => {
                    const el = document.createElement('div');
                    el.id = `item-${item.id}`;
                    el.className = 'item-box w-3/4 h-10 rounded shadow-md flex items-center justify-center font-bold text-white';
                    el.style.backgroundColor = item.color;
                    el.textContent = `Item ${item.id}`;
                    structureContainer.appendChild(el);
                });
            }
            
            function updateModeUI() {
                if (mode === 'stack') {
                    modeText.textContent = 'Stack Mode (LIFO)';
                    structureContainer.classList.remove('flex-col');
                    structureContainer.classList.add('flex-col-reverse');
                } else {
                    modeText.textContent = 'Queue Mode (FIFO)';
                    structureContainer.classList.remove('flex-col-reverse');
                    structureContainer.classList.add('flex-col');
                }
            }
            
            addItemBtn.addEventListener('click', () => {
                if (incomingItems.length === 0) {
                    statusMessage.textContent = "No more items to add!";
                    return;
                }
                const itemToAdd = incomingItems.shift();
                structure.push(itemToAdd);
                statusMessage.textContent = `Added Item ${itemToAdd.id}.`;
                render();
            });

            processItemBtn.addEventListener('click', () => {
                if (structure.length === 0) {
                    statusMessage.textContent = "Structure is empty!";
                    return;
                }

                document.querySelectorAll('.hint-item').forEach(el => el.classList.remove('hint-item'));

                let itemToRemove;
                if (mode === 'stack') {
                    itemToRemove = structure.pop();
                } else {
                    itemToRemove = structure.shift();
                }
                
                statusMessage.textContent = `Processed Item ${itemToRemove.id}!`;

                const itemEl = document.getElementById(`item-${itemToRemove.id}`);
                if(itemEl) {
                    itemEl.style.transform = 'scale(0)';
                }
                
                setTimeout(() => {
                    render();
                    if(incomingItems.length === 0 && structure.length === 0) {
                        winMessage.style.opacity = '1';
                        statusMessage.textContent = "You win!";
                    }
                }, 500);
            });

            modeToggleBtn.addEventListener('click', () => {
                mode = mode === 'stack' ? 'queue' : 'stack';
                initGame(); // Reset the game when mode changes to avoid confusion
            });

            hintBtn.addEventListener('click', () => {
                if (structure.length === 0) {
                    statusMessage.textContent = "Add an item before getting a hint!";
                    return;
                };

                let hintItem;
                if (mode === 'stack') {
                    hintItem = structure[structure.length - 1];
                    statusMessage.textContent = 'Hint: Stacks are LIFO. The last item in will be processed.';
                } else {
                    hintItem = structure[0];
                    statusMessage.textContent = 'Hint: Queues are FIFO. The first item in will be processed.';
                }
                const hintEl = document.getElementById(`item-${hintItem.id}`);
                if (hintEl) {
                    hintEl.classList.add('hint-item');
                }
            });

            resetBtn.addEventListener('click', initGame);

            initGame();
        });
    </script>
</body>
</html>

