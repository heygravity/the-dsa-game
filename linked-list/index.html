<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The DSA Games - Linked Lists</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
        }
        .game-title {
            font-family: 'Press Start 2P', cursive;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            80% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes tada {
            from { transform: scale3d(1, 1, 1); }
            10%, 20% { transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg); }
            30%, 50%, 70%, 90% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg); }
            40%, 60%, 80% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg); }
            to { transform: scale3d(1, 1, 1); }
        }
        .animate-fade-in { animation: fadeIn 0.8s ease-out forwards; }
        .animate-pop-in { animation: popIn 0.5s ease-out forwards; }
        .animate-tada { animation: tada 1s ease-out; animation-delay: 0.5s; }
        .code-snippet {
            background-color: #f3f4f6;
            border-left: 3px solid #60a5fa;
            color: #374151;
            font-family: 'Courier New', Courier, monospace;
        }
        .tab-btn { transition: all 0.2s ease-in-out; }
        .tab-btn.active {
            border-bottom-color: #3b82f6;
            color: #3b82f6;
            transform: translateY(-2px);
        }
        .node {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.25rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            border: 3px solid #60a5fa;
            background-color: #dbeafe;
            color: #1e3a8a;
            user-select: none;
        }
        .node.linked {
            background-color: #60a5fa;
            color: white;
            transform: scale(1.1);
        }
        .node.hint {
            box-shadow: 0 0 20px #facc15;
            animation: pulse-yellow 1.5s infinite;
        }
        @keyframes pulse-yellow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(250, 204, 21, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(250, 204, 21, 0); }
        }
        .pointer-line {
            position: absolute;
            background-color: #60a5fa;
            height: 4px;
            transform-origin: left;
            z-index: -1;
        }
        #win-message {
            font-family: 'Press Start 2P', cursive;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <header class="w-full py-4 bg-white/80 backdrop-blur-sm shadow-md sticky top-0 z-10 animate-fade-in">
        <div class="container mx-auto px-4 flex justify-between items-center">
             <a href="index.html" class="text-gray-700 hover:text-blue-500 transition-colors">
                <span class="material-icons-outlined text-3xl">home</span>
            </a>
            <h1 class="text-2xl md:text-3xl game-title text-blue-500 text-center">The DSA Games</h1>
            <a href="https://github.com" target="_blank" class="text-gray-700 hover:text-blue-500 transition-colors">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" /></svg>
            </a>
        </div>
    </header>

    <main class="flex-grow container mx-auto p-4 md:p-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 h-full">
            
            <div class="bg-white p-6 rounded-lg shadow-xl animate-fade-in" style="animation-delay: 0.2s;">
                <h2 class="text-2xl font-bold mb-4 text-blue-600 flex items-center gap-2">Linked Lists: Chaining Your Data <span class="animate-tada inline-block">‚õìÔ∏è</span></h2>
                <div class="space-y-4 text-gray-600">
                    <p>Unlike arrays, Linked Lists store elements in individual objects called 'nodes'. Each node contains the data and a 'pointer' (a reference) to the next node in the sequence. This creates a chain of data.</p>
                    
                    <h3 class="text-xl font-semibold pt-4 text-blue-600 flex items-center gap-2">Core Concepts <span class="animate-tada inline-block">üéØ</span></h3>
                    <ul class="list-disc list-inside space-y-2 pl-2">
                        <li><strong>Nodes:</strong> The basic unit containing data and a pointer.</li>
                        <li><strong>Pointers:</strong> Connect one node to the next, forming the list.</li>
                        <li><strong>Head:</strong> The very first node in the list.</li>
                        <li><strong>Dynamic Size:</strong> Easily grow or shrink by adding/removing nodes. Insertion and deletion are very efficient.</li>
                    </ul>

                    <h3 class="text-xl font-semibold pt-4 text-blue-600">Syntax Examples</h3>
                    <div>
                        <div class="border-b border-gray-200">
                            <nav class="-mb-px flex gap-6" aria-label="Tabs">
                                <button class="tab-btn active shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="js">JavaScript</button>
                                <button class="tab-btn shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="python">Python</button>
                                <button class="tab-btn shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="java">Java</button>
                                <button class="tab-btn shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="cpp">C++</button>
                                <button class="tab-btn shrink-0 border-b-2 border-transparent px-1 pb-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700" data-lang="c">C</button>
                            </nav>
                        </div>
                        <div class="mt-4">
                            <pre id="code-js" class="code-snippet p-4 rounded-md overflow-x-auto"><code>class Node {
  constructor(data) {
    this.data = data;
    this.next = null;
  }
}
let head = new Node(10);
head.next = new Node(20);</code></pre>
                            <pre id="code-python" class="code-snippet p-4 rounded-md overflow-x-auto hidden"><code>class Node:
  def __init__(self, data):
    self.data = data
    self.next = None

head = Node(10)
head.next = Node(20)</code></pre>
                            <pre id="code-java" class="code-snippet p-4 rounded-md overflow-x-auto hidden"><code>class Node {
  int data;
  Node next;
  Node(int d) { data = d; next = null; }
}
Node head = new Node(10);
head.next = new Node(20);</code></pre>
                            <pre id="code-cpp" class="code-snippet p-4 rounded-md overflow-x-auto hidden"><code>class Node {
public:
  int data;
  Node* next;
};
Node* head = new Node();
head->data = 10;
head->next = new Node();
head->next->data = 20;</code></pre>
                            <pre id="code-c" class="code-snippet p-4 rounded-md overflow-x-auto hidden"><code>#include &lt;stdlib.h&gt;
struct Node {
  int data;
  struct Node* next;
};
struct Node* head = malloc(sizeof(struct Node));
head->data = 10;
head->next = malloc(sizeof(struct Node));
head->next->data = 20;</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-xl flex flex-col animate-fade-in" style="animation-delay: 0.4s;">
                <h2 class="text-2xl font-bold mb-2 text-center text-blue-600 flex items-center justify-center gap-2">Game: Link 'em Up! <span class="animate-tada inline-block">üîó</span></h2>
                <p class="text-center text-gray-500 mb-4">Click the nodes in ascending order (smallest to largest) to build the linked list.</p>
                
                <div id="game-board-container" class="flex-grow bg-gray-50 rounded-lg p-2 relative min-h-[300px] md:min-h-[400px]">
                    <div id="game-board" class="w-full h-full relative"></div>
                    <div id="win-message" class="absolute inset-0 bg-green-500/80 rounded-lg flex items-center justify-center text-white text-center p-4 text-2xl font-bold opacity-0 transition-opacity duration-500 pointer-events-none">
                        Congratulations! You linked them all! üéâ
                    </div>
                </div>

                <div id="status-message" class="text-center h-8 my-4 font-semibold text-lg text-gray-700 transition-all duration-300"></div>

                <div class="flex justify-center gap-4 mt-auto">
                    <button id="hint-btn" class="w-32 justify-center bg-transparent border-2 border-yellow-500 text-yellow-600 hover:bg-yellow-500 hover:text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2"><span class="material-icons-outlined">lightbulb</span> Hint</button>
                    <button id="reset-btn" class="w-32 justify-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2"><span class="material-icons-outlined">restart_alt</span> Reset</button>
                </div>
            </div>

        </div>

        <div class="flex justify-between items-center mt-12">
            <a href="dsa_game.html" class="w-40 justify-center bg-transparent border-2 border-gray-500 text-gray-600 hover:bg-gray-500 hover:text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2">
                <span class="material-icons-outlined">arrow_back</span> Previous
            </a>
            <a href="#" class="w-40 justify-center bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg active:scale-95 flex items-center gap-2 border-2 border-blue-500 hover:border-blue-600">
                Next <span class="material-icons-outlined">arrow_forward</span>
            </a>
        </div>
    </main>

    <footer class="w-full py-4 bg-gray-200 mt-8">
        <div class="container mx-auto text-center text-gray-500 text-sm">
            <p>&copy; 2025 The DSA Game by Pritish Rajpurohit. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab-btn');
            const codeSnippets = document.querySelectorAll('.code-snippet');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const lang = tab.dataset.lang;
                    codeSnippets.forEach(snippet => {
                        if (snippet.id === `code-${lang}`) {
                            snippet.classList.remove('hidden');
                        } else {
                            snippet.classList.add('hidden');
                        }
                    });
                });
            });

            const gameBoard = document.getElementById('game-board');
            const hintBtn = document.getElementById('hint-btn');
            const resetBtn = document.getElementById('reset-btn');
            const statusMessage = document.getElementById('status-message');
            const winMessage = document.getElementById('win-message');
            
            const NODE_COUNT = 5;
            let nodes = [];
            let sortedValues = [];
            let currentPath = [];
            let isGameOver = false;

            function initGame() {
                isGameOver = false;
                winMessage.style.opacity = '0';
                statusMessage.textContent = 'Click the smallest number to start.';
                currentPath = [];
                
                const uniqueValues = new Set();
                while (uniqueValues.size < NODE_COUNT) {
                    uniqueValues.add(Math.floor(Math.random() * 90) + 10);
                }
                const values = Array.from(uniqueValues);
                sortedValues = [...values].sort((a, b) => a - b);

                const boardRect = gameBoard.getBoundingClientRect();
                const nodeSize = 60;
                const padding = 20;

                nodes = values.map((val, i) => ({
                    id: i,
                    value: val,
                    x: Math.random() * (boardRect.width - nodeSize - padding * 2) + padding,
                    y: Math.random() * (boardRect.height - nodeSize - padding * 2) + padding
                }));
                
                renderGame();
            }

            function renderGame() {
                gameBoard.innerHTML = '';
                nodes.forEach(node => {
                    const nodeEl = document.createElement('div');
                    nodeEl.className = 'node animate-pop-in';
                    nodeEl.textContent = node.value;
                    nodeEl.style.left = `${node.x}px`;
                    nodeEl.style.top = `${node.y}px`;
                    nodeEl.dataset.id = node.id;
                    nodeEl.addEventListener('click', () => handleNodeClick(node.id));
                    gameBoard.appendChild(nodeEl);
                });
            }
            
            function handleNodeClick(nodeId) {
                if (isGameOver) return;
                
                const clickedNode = nodes.find(n => n.id === nodeId);
                const expectedValue = sortedValues[currentPath.length];

                document.querySelectorAll('.node.hint').forEach(n => n.classList.remove('hint'));

                if (clickedNode.value === expectedValue) {
                    currentPath.push(clickedNode.id);
                    const nodeEl = document.querySelector(`.node[data-id='${nodeId}']`);
                    nodeEl.classList.add('linked');

                    if (currentPath.length > 1) {
                        const prevNodeId = currentPath[currentPath.length - 2];
                        drawLink(prevNodeId, nodeId);
                    }

                    if (currentPath.length === NODE_COUNT) {
                        isGameOver = true;
                        winMessage.style.opacity = '1';
                        statusMessage.textContent = 'List Complete!';
                    } else {
                        statusMessage.textContent = `Correct! Now find ${sortedValues[currentPath.length]}.`;
                    }

                } else {
                    statusMessage.textContent = 'Wrong order! Start from the beginning.';
                    currentPath = [];
                    // Reset visual state
                    document.querySelectorAll('.node').forEach(n => n.classList.remove('linked'));
                    document.querySelectorAll('.pointer-line').forEach(l => l.remove());
                }
            }

            function drawLink(startNodeId, endNodeId) {
                const startNode = nodes.find(n => n.id === startNodeId);
                const endNode = nodes.find(n => n.id === endNodeId);
                const nodeSize = 60;
                
                const startX = startNode.x + nodeSize / 2;
                const startY = startNode.y + nodeSize / 2;
                const endX = endNode.x + nodeSize / 2;
                const endY = endNode.y + nodeSize / 2;

                const dx = endX - startX;
                const dy = endY - startY;
                const distance = Math.hypot(dx, dy);
                const angle = Math.atan2(dy, dx) * (180 / Math.PI);
                
                const line = document.createElement('div');
                line.className = 'pointer-line';
                line.style.width = `${distance}px`;
                line.style.left = `${startX}px`;
                line.style.top = `${startY - 2}px`; // center the line height
                line.style.transform = `rotate(${angle}deg)`;
                
                gameBoard.appendChild(line);
            }

            function showHint() {
                if (isGameOver) return;
                const nextValue = sortedValues[currentPath.length];
                const hintNode = nodes.find(n => n.value === nextValue);
                if (hintNode) {
                    const hintNodeEl = document.querySelector(`.node[data-id='${hintNode.id}']`);
                    hintNodeEl.classList.add('hint');
                    statusMessage.textContent = `Hint: Look for the node with value ${nextValue}.`;
                }
            }

            resetBtn.addEventListener('click', initGame);
            hintBtn.addEventListener('click', showHint);
            
            // Use a small timeout to ensure board dimensions are ready
            setTimeout(initGame, 100);
            window.addEventListener('resize', initGame);
        });
    </script>
</body>
</html>

